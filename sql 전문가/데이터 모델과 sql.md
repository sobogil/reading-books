# 제2장 데이터 모델과 성능

제1절 정규화 

## 1. 제 1 정규형은 하나의 속성에는 하나의 값을 가져야 한다.

여러개의 값을 가진다면 원하는 값을 추출하기 어려워 개발의 복잡성이 증가. 
고객연락처라는 엔티티를 추가하여 문제점 해결

상품을 3개이상 주문을 못하기에 

## 2.제2정규형: 엔티티의 일반속성은 주식별자 전체에 종속적이어야 한다.

일반속성이 중복으로 나오더라도 주식별자에 의해서만 결정이 되면 종속적이라고 한다.

중복이 많이 생길경우 속성을 변경해야할때 부하가 많이 생긴다. 따라서 엔티티를 하나 추가해서 해결할 수 있다.

## 3.제3정규형 : 엔티티의 일반속성 간에는 서로 종속적이지 않는다.

고객번호가 주문번호에 종속적이고 고객명이 고객번호에 종속적이면 고객명은 주문번호에 종속적이다.  이를 이행적 종속 이라고 하고 이를 배제하는 것이 제3정규형이다.

고객 엔티티를 하나 새로만들어서 이를 해결한다. 

## 4.반정규화와 성능

반정규화는 정규화를 반대로 하는 것으로 정규화는 데이터의 중복을 최소화 했지만 반정규화는 성능을 위해 데이터 중복을 허용한다.

-반정규화시 성능이 향상되는 모델
정규화가 된 상태에서 최근 주문 내역을 가져오면 고객의 주문이 많을 수록 성능이 낮아지기에 반정규화를 진행해 성능을 끌어올려야한다. 

-반정규화시 성능이 저하되는 모델
불필요한 트랜잭션으로 인한 성능문제를 만들어 낼때. 예를들어 주문, 배송 엔티티에서 송장번호를 반정규화해서 주문 엔티티에 넣으면 속도는 올라가지만 고객이 주문시 주문번호와 송장번호가 같이 등장해 불필요한 작업이 생긴다. 송장번호는 택배사에서 준비가 됐을 떄 생기는 것이기 때문이다.


제2절 관계와 조인의 이해

## 2.계층형 데이터 모델

계층형 모델에서는 자기 자신을 조인하는 셀프조인의 기능도 있다. 
데이터 간의 계층이 존재할때 발생하는 모델이다.

## 3.상호배타적 관계

주문 엔티티는 개인, 법인번호 둘 중 하나만 상속 될 수 있으므로 고객구분코드 속성을 통해 구분 할 수 있다.


제3절 모델이 표현하는 트랜잭션의 이해

업무적 트랜잭션보다 모델이 표현하는 트랜잭션은 태생 자체가 함께 발생하는 데이터이기에 재사용성의 이점도 없으므로 반드시 하나의 트랜잭션으로 처리해야 한다는 점이다.


제4절 Null속성의 이해




